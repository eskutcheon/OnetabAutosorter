plugins {
    id 'application'
    id 'io.micronaut.application' version '4.0.0'
    id 'com.github.johnrengelman.shadow' version '8.1.1'
}

micronaut {
    version "4.0.0"
    runtime "netty"
    processing {
        incremental true
        annotations "scraper.*"
    }
}

application {
    mainClass.set("scraper.ScraperApplication")
}

tasks.withType(Jar).configureEach {
    manifest {
        attributes(
            'Main-Class': application.mainClass.get()
        )
    }
}

repositories {
    mavenCentral()
}

dependencies {
    implementation("io.micronaut:micronaut-http-server-netty")
    implementation("io.micronaut:micronaut-runtime")
    implementation("org.jsoup:jsoup:1.17.1")
    // For Micronaut Data support
    implementation("jakarta.annotation:jakarta.annotation-api")
    // required for JSON support
    implementation("io.micronaut:micronaut-jackson-databind")
    runtimeOnly("ch.qos.logback:logback-classic")
}
